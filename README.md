# ROS2 Data Processing Pipeline: Middle Path Calculation

This project establishes a data processing pipeline using Docker and ROS 2 Jazzy.
The system simulates an autonomous vehicle perception task where raw track data is read, transmitted, and processed to calculate the optimal driving path (middle path).

The architecture consists of two isolated containers running on Ubuntu 24.04:
1.  **Data Publisher:** Reads track coordinates from a CSV file and publishes them to a ROS topic.
2.  **Data Processor:** Subscribes to the data, buffers the points, calculates the track's centerline, and visualizes the result.

---

##  Tech Stack
* **OS:** Ubuntu 24.04 (Noble Numbat)
* **Middleware:** ROS 2 Jazzy Jalisco
* **Language:** Python 3.12
* **Containerization:** Docker & Docker Compose
* **Libraries:** `rclpy`, `pandas`, `numpy`, `matplotlib` / `opencv`

---

## Dataset Properties
The project uses the BrandsHatchLayout.csv dataset.

**Statistics:**
* **Total Data Points:** 312
* **Description:** The dataset represents the boundaries of a race track. The goal is to compute the geometric center between the left and right boundaries.

---

## Architecture & Pipeline

The system is composed of two main ROS nodes:

### 1. `csv_reader_node` (Publisher)
* **Function:** Reads the CSV file line-by-line.
* **Topic:** Publishes `Point` messages to `/racing/track_data`.
* **Frequency:** Publishes data at a fixed rate to simulate real-time sensor input.

### 2. `csv_processor_node` (Subscriber)
* **Function:** Listens to `/racing/track_data`.
* **Logic:**
    1.  Collects a batch of points
    2.  Computes the middle path
    3.  Generates a visualization plot.
* **Output:** Saves the result as a PNG file.

---

## How to Run

### Prerequisites
* Docker installed.
* Docker Compose installed.

### Steps to Reproduce
1.  **Clone the repository:**
    ```bash
    git clone [https://github.com/YourUsername/YourRepoName.git](https://github.com/YourUsername/YourRepoName.git)
    cd YourRepoName
    ```

2.  **Build and Run (using Docker Compose):**
    This command will build both images and start the containers.
    ```bash
    docker compose up --build
    ```

3.  **View Results:**
    Once the processor collects enough data, the result images will be saved in the `./data` folder on your host machine.
    
    *Look for files named:* `result.png` (or `result_TIMESTAMP.png`)

---

## ðŸ“ˆ Results
Below is an example of the calculated middle path generated by the system:

![Middle Path Result](./data/result.png)

